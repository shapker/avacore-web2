<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avacore ‚Ä¢ –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>
    <meta name="description" content="Avacore - –ü—Ä–µ–º–∏—É–º –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π">
    
    <!-- CSS –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –ø—Ä–µ–º–∏—É–º –¥–∏–∑–∞–π–Ω–∞ -->
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --info-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --dark-gradient: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            --shadow-hover: 0 12px 40px 0 rgba(31, 38, 135, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
        }

        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.05) 0%, transparent 50%);
            animation: backgroundShift 20s ease-in-out infinite;
        }

        @keyframes backgroundShift {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.1) rotate(1deg); }
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .navbar {
            background: rgba(15, 15, 25, 0.8) !important;
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            padding: 1rem 0;
        }

        .navbar-brand {
            font-weight: 800;
            font-size: 1.8rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-link {
            color: #fff !important;
            font-weight: 600;
            padding: 0.8rem 1.5rem !important;
            margin: 0 0.3rem;
            border-radius: 15px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--primary-gradient);
            transition: left 0.3s ease;
            z-index: -1;
            border-radius: 15px;
        }

        .nav-link:hover::before,
        .nav-link.active::before {
            left: 0;
        }

        .nav-link i {
            margin-right: 0.5rem;
            font-size: 1.1rem;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .container {
            position: relative;
            z-index: 1;
        }

        .content-section {
            display: none;
            animation: fadeInUp 0.6s ease-out;
        }

        #statsSection {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .stats-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stats-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
        }

        .stats-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
        }

        .stats-card .icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stats-card .number {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #fff 0%, #a8edea 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stats-card .label {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* –°–µ–∫—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ */
        .section-header {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }

        .section-header h1 {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, #fff 0%, #667eea 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .section-header p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.7);
            max-width: 600px;
            margin: 0 auto;
        }

        /* –ì–∞–ª–µ—Ä–µ—è –º–µ–¥–∏–∞ */
        .media-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .media-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.3s ease;
            position: relative;
        }

        .media-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-hover);
        }

        .media-preview {
            width: 100%;
            height: 200px;
            background: var(--dark-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .media-preview i {
            font-size: 4rem;
            color: rgba(255, 255, 255, 0.3);
        }

        .media-info {
            padding: 1.5rem;
        }

        .media-type {
            display: inline-block;
            padding: 0.3rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 1rem;
        }

        .media-type.photo { background: var(--success-gradient); }
        .media-type.video { background: var(--secondary-gradient); }
        .media-type.audio { background: var(--info-gradient); }
        .media-type.voice { background: var(--primary-gradient); }
        .media-type.sticker { background: #ffd93d; color: #000; }
        .media-type.document { background: #6c757d; }

        .media-name {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .media-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .media-date {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* –ó–∞–≥—Ä—É–∑–∫–∞ */
        .loading-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 60vh;
        }

        .loader {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top: 4px solid var(--primary-gradient);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 2rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            text-align: center;
        }

        /* –û—à–∏–±–∫–∞ */
        .error-section {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 3rem;
            text-align: center;
            margin: 2rem 0;
        }

        .error-icon {
            font-size: 4rem;
            color: #ff6b6b;
            margin-bottom: 1.5rem;
        }

        .error-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .section-header h1 {
                font-size: 2rem;
            }
            
            .stats-card {
                padding: 1.5rem;
            }
            
            .stats-card .number {
                font-size: 2rem;
            }
            
            .media-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-link {
                padding: 0.6rem 1rem !important;
                font-size: 0.9rem;
            }
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è */
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω -->
    <div class="bg-animation"></div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-shield-alt"></i> Avacore
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="navbar-nav ms-auto">
                    <a class="nav-link active" href="#" onclick="showSection('stats')">
                        <i class="fas fa-chart-bar"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                    </a>
                    <a class="nav-link" href="#" onclick="showSection('media')">
                        <i class="fas fa-photo-video"></i> –ú–µ–¥–∏–∞
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container mt-5">
        <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
        <div id="loadingSection" class="loading-section">
            <div class="loader"></div>
            <p class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ –≤–∞—à–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</p>
        </div>

        <!-- –û—à–∏–±–∫–∞ -->
        <div id="errorSection" class="error-section" style="display: none;">
            <div class="error-icon">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <h3>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞</h3>
            <p id="errorMessage" class="mt-3"></p>
            <div class="error-buttons">
                <button class="btn-glass" onclick="location.reload()">
                    <i class="fas fa-redo"></i> –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
                </button>
                <button class="btn-glass" onclick="window.close()">
                    <i class="fas fa-times"></i> –ó–∞–∫—Ä—ã—Ç—å
                </button>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div id="mainContent" style="display: none;">
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div id="statsSection" class="content-section fade-in">
                <div class="section-header">
                    <h1><i class="fas fa-chart-pie"></i> –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h1>
                    <p>–ü–æ–ª–Ω—ã–π –æ–±–∑–æ—Ä –≤–∞—à–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</p>
                </div>

                <div class="row">
                    <div class="col-md-3">
                        <div class="stats-card">
                            <div class="icon">
                                <i class="fas fa-comments"></i>
                            </div>
                            <div class="number" id="totalMessages">0</div>
                            <div class="label">–í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stats-card">
                            <div class="icon">
                                <i class="fas fa-font"></i>
                            </div>
                            <div class="number" id="textMessages">0</div>
                            <div class="label">–¢–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stats-card">
                            <div class="icon">
                                <i class="fas fa-photo-video"></i>
                            </div>
                            <div class="number" id="mediaMessages">0</div>
                            <div class="label">–ú–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stats-card">
                            <div class="icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="number" id="uniqueSenders">0</div>
                            <div class="label">–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π</div>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col-12">
                        <div class="stats-card">
                            <div class="row text-center">
                                <div class="col-md-2 mb-3">
                                    <div class="icon">
                                        <i class="fas fa-camera"></i>
                                    </div>
                                    <div class="number" id="photoCount">0</div>
                                    <div class="label">–§–æ—Ç–æ</div>
                                </div>
                                <div class="col-md-2 mb-3">
                                    <div class="icon">
                                        <i class="fas fa-video"></i>
                                    </div>
                                    <div class="number" id="videoCount">0</div>
                                    <div class="label">–í–∏–¥–µ–æ</div>
                                </div>
                                <div class="col-md-2 mb-3">
                                    <div class="icon">
                                        <i class="fas fa-microphone"></i>
                                    </div>
                                    <div class="number" id="audioCount">0</div>
                                    <div class="label">–ê—É–¥–∏–æ</div>
                                </div>
                                <div class="col-md-2 mb-3">
                                    <div class="icon">
                                        <i class="fas fa-microphone-alt"></i>
                                    </div>
                                    <div class="number" id="voiceCount">0</div>
                                    <div class="label">–ì–æ–ª–æ—Å–æ–≤—ã–µ</div>
                                </div>
                                <div class="col-md-2 mb-3">
                                    <div class="icon">
                                        <i class="fas fa-smile"></i>
                                    </div>
                                    <div class="number" id="stickerCount">0</div>
                                    <div class="label">–°—Ç–∏–∫–µ—Ä—ã</div>
                                </div>
                                <div class="col-md-2 mb-3">
                                    <div class="icon">
                                        <i class="fas fa-file"></i>
                                    </div>
                                    <div class="number" id="documentCount">0</div>
                                    <div class="label">–î–æ–∫—É–º–µ–Ω—Ç—ã</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ú–µ–¥–∏–∞ -->
            <div id="mediaSection" class="content-section fade-in" style="display: none;">
                <div class="section-header">
                    <h1><i class="fas fa-photo-video"></i> –ú–µ–¥–∏–∞—Ñ–∞–π–ª—ã</h1>
                    <p>–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤</p>
                </div>

                <div class="media-grid" id="mediaGrid">
                    <!-- –ú–µ–¥–∏–∞—Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>

                <div class="text-center mt-5" id="mediaEmptyState" style="display: none;">
                    <div class="stats-card">
                        <i class="fas fa-inbox fa-4x mb-3" style="color: rgba(255,255,255,0.3);"></i>
                        <h3>–ú–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</h3>
                        <p class="mt-2">–ó–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ —Ñ–∞–π–ª—ã</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π JavaScript –∫–æ–¥ -->
    <script>
        // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentData = null;

        // –§—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function showSection(sectionName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª
            document.getElementById(sectionName + 'Section').style.display = 'block';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ URL
        function decompressData() {
            try {
                const urlParams = new URLSearchParams(window.location.search);
                let compressedData = urlParams.get('data');
                
                if (!compressedData) {
                    throw new Error('–î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ URL. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /web –≤ –±–æ—Ç–µ.');
                }
                
                console.log('üîó –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –∏–∑ URL:', compressedData.length, '—Å–∏–º–≤–æ–ª–æ–≤');
                
                // –î–æ–±–∞–≤–ª—è–µ–º padding –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
                while (compressedData.length % 4 !== 0) {
                    compressedData += '=';
                }
                
                // –î–µ–∫–æ–¥–∏—Ä—É–µ–º base64
                const decodedStr = atob(compressedData);
                const data = JSON.parse(decodedStr);
                
                console.log('üìä –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã:', data);
                return data;
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è:', error);
                throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /web –≤ –±–æ—Ç–µ.');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function displayStats(data) {
            if (!data) return;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
            document.getElementById('totalMessages').textContent = data.total_messages || 0;
            document.getElementById('textMessages').textContent = data.text_messages || 0;
            document.getElementById('mediaMessages').textContent = data.media_messages || 0;
            document.getElementById('uniqueSenders').textContent = data.unique_senders || 0;

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ç–∏–ø–∞–º –º–µ–¥–∏–∞
            const mediaStats = data.media_stats || {};
            document.getElementById('photoCount').textContent = mediaStats.photo || 0;
            document.getElementById('videoCount').textContent = mediaStats.video || 0;
            document.getElementById('audioCount').textContent = mediaStats.audio || 0;
            document.getElementById('voiceCount').textContent = mediaStats.voice || 0;
            document.getElementById('stickerCount').textContent = mediaStats.sticker || 0;
            document.getElementById('documentCount').textContent = mediaStats.document || 0;
        }

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤
        function displayMediaFiles(messages) {
            const mediaGrid = document.getElementById('mediaGrid');
            const emptyState = document.getElementById('mediaEmptyState');
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã
            const mediaFiles = messages ? messages.filter(msg => msg.is_media && msg.path) : [];
            
            if (mediaFiles.length === 0) {
                mediaGrid.style.display = 'none';
                emptyState.style.display = 'block';
                return;
            }
            
            mediaGrid.style.display = 'grid';
            emptyState.style.display = 'none';
            
            let html = '';
            mediaFiles.forEach((media, index) => {
                const fileName = media.path ? media.path.split('/').pop() : '–§–∞–π–ª';
                const fileType = getFileType(media.path);
                const fileIcon = getFileIcon(fileType);
                const fileDate = media.date ? new Date(media.date).toLocaleString('ru-RU') : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
                const userName = media.user_login || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
                
                html += `
                    <div class="media-card fade-in" style="animation-delay: ${index * 0.1}s">
                        <div class="media-preview">
                            <i class="${fileIcon}"></i>
                        </div>
                        <div class="media-info">
                            <span class="media-type ${fileType}">${getFileTypeLabel(fileType)}</span>
                            <div class="media-name">${fileName}</div>
                            <div class="media-meta">
                                <span class="media-user">
                                    <i class="fas fa-user"></i> ${userName}
                                </span>
                                <span class="media-date">
                                    <i class="fas fa-calendar"></i> ${fileDate}
                                </span>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            mediaGrid.innerHTML = html;
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
        function getFileType(path) {
            if (!path) return 'document';
            
            const ext = path.toLowerCase().split('.').pop();
            if (['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(ext)) return 'photo';
            if (['mp4', 'avi', 'mov', 'mkv', 'webm'].includes(ext)) return 'video';
            if (path.includes('voice') && ext === 'ogg') return 'voice';
            if (['mp3', 'wav', 'ogg', 'm4a'].includes(ext)) return 'audio';
            if (ext === 'webp') return 'sticker';
            return 'document';
        }

        function getFileIcon(fileType) {
            const icons = {
                'photo': 'fas fa-camera',
                'video': 'fas fa-video',
                'audio': 'fas fa-microphone',
                'voice': 'fas fa-microphone-alt',
                'sticker': 'fas fa-smile',
                'document': 'fas fa-file'
            };
            return icons[fileType] || 'fas fa-file';
        }

        function getFileTypeLabel(fileType) {
            const labels = {
                'photo': '–§–æ—Ç–æ',
                'video': '–í–∏–¥–µ–æ',
                'audio': '–ê—É–¥–∏–æ',
                'voice': '–ì–æ–ª–æ—Å–æ–≤–æ–µ',
                'sticker': '–°—Ç–∏–∫–µ—Ä',
                'document': '–î–æ–∫—É–º–µ–Ω—Ç'
            };
            return labels[fileType] || '–§–∞–π–ª';
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –æ—à–∏–±–∫–∏
        function showError(message) {
            document.getElementById('loadingSection').style.display = 'none';
            document.getElementById('errorSection').style.display = 'block';
            document.getElementById('errorMessage').textContent = message;
            console.error('‚ùå –û—à–∏–±–∫–∞:', message);
        }

        // –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
        const style = document.createElement('style');
        style.textContent = `
            .btn-glass {
                background: var(--glass-bg);
                backdrop-filter: blur(20px);
                border: 1px solid var(--glass-border);
                color: #fff;
                padding: 0.8rem 2rem;
                border-radius: 15px;
                font-weight: 600;
                transition: all 0.3s ease;
                text-decoration: none;
                display: inline-flex;
                align-items: center;
                gap: 0.5rem;
                cursor: pointer;
            }
            .btn-glass:hover {
                background: var(--primary-gradient);
                transform: translateY(-2px);
                box-shadow: var(--shadow-hover);
                color: #fff;
            }
        `;
        document.head.appendChild(style);

        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        function initApp() {
            console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Avacore Web...');
            
            try {
                // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ URL
                const data = decompressData();
                currentData = data;
                
                // –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç
                document.getElementById('loadingSection').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
                
                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
                displayStats(data);
                displayMediaFiles(data.recent_messages);
                
                console.log('‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ');
                
            } catch (error) {
                showError(error.message);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(initApp, 1500);
        });
    </script>
</body>
</html>
